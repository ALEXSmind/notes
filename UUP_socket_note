Unix/Linux编程实践教程笔记(11-15)

-v0.1 2020.2.8 Sherlock init

本文档是Unix/Linux编程实践教程最后五章的总结笔记，这五章主要围绕socket，讲了各种
进程、线程间通信的方法。大家可以从这个链接git clone该书对应的代码:
https://github.com/yuzhidi/Understanding-UNIXLINUX-Programming.git 简单编译后就
可以运行。

从获取服务的服务的角度讲，一个进程可以直接调用函数，也可以通过和另个一个进程互动
获取相关的服务。从进程间通信的角度讲，socket是一种不同物理机器上进程间通信的方式。

本机间的进程间通信的方式有匿名管道，命名管道(mkfifo), Unix domain socket, 通过
相同的文件通信，共享内存。不同物理机器之间的进程见通信一般用socket。

匿名管道的一般用法是，在父进程中创建管道，fork出子进程，这样子进程也继承了父进程
中的管道的读文件描述符和写文件描述符，如果是父进程往子进程写数据，那么父进程需要
需要关闭读读描述符，子进程需要关闭写描述符，反之亦然，通信的时候父进程向写文件
描述符写入信息，子进程读读文件描述符读出信息。
```
to do: example
```

命名管道的方式，需要首先使用mkfifo创建管道文件，然后写进程向管道里写入数据，读
进程从管道里读出数据。命名管道可以使用在独立的进程之间，而匿名管道必须在父子进程
之间使用。
```
to do: example
```
(如何查看系统里的管道？)

文件通信需要使用文件锁保证一致性

共享内存
(如何查看系统中的共享内存？)

关于socket通信，这几章介绍了基于TCP的socket，数据报socket(基于UDP), 和Unix domain
socket。可以使用select和poll响应多个阻塞的文件。

socket

数据报socket

Unix domain socket

select poll


