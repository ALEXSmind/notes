Redhat cooperation note
=======================

-v0.1 2017.7.5 WangZhou init


Abstract:

 HiSilicon Turing department implements Hi161x/Hi162x ARM Server SoC, we want
 them to be supported by Redhat distributions. So WangZhou(HiSilicon) and MaJun
 (CSI) are assigned the job of Redhat partner engineer to support this. This
 document just help to record the process of Redhat distribution support. As this
 is the first time that HuaWei and Redhat cooperate to enable Redhat distribution
 in HiSilicon ARM SoC, the experience which we get from the process will make
 later cooperation earlier, and we will also record this. For the people who will
 later be Redhat partner engineer, this document will be very usefull.


Sections in this document:

 - Backgroud: project, information, people...

 - Develop Environment: huawei lab, boston lab, software, hardware...

 - work: backport, test, cooperation...

 - requirements/tasks/bugs

 - conclusion

 - reference


1. Backgroud
------------


2. Develop Environment
----------------------


3. work
-------


4. requirements/tasks/bugs
--------------------------


5. conclusion
-------------


6. reference
------------



Build redhat VPN in openlab2 board
----------------------------------

 - Install a redhat ISO in one board A.

 - Download openvpn and pkcs11-helper rpm in:
   (as there are no these two packages in current ISO)
   http://mirror.math.princeton.edu/pub/epel/7/aarch64/

 - Copy these two packages to above board, and install them:
   rpm -ivh pkcs11-helper-1.11-3.el7.aarch64.rpm
   rpm -ivh openvpn-2.4.3-1.el7.aarch64.rpm

 - Install ansible in another server, which can be X86 server and ubuntu system.
   
 - Get the vnp.playbook.zip from Redhat engineer FuWei, copy it to above server
   and unzip it.

 - Modify hosts in RHVPN.yml to "host: IP(which is the IP of board A)"
   Modify redhatter in RHVPN.yml to "redhatter: your redhat account(e.g. zhowang)"
   Add IP of board A in /etc/ansible/hosts

 - Run ansible-playbook RHVPN.yml
   then ansible will install openvpn in board A automatically.
   (NOTE: if there is bug in the ansible script, you may fail to install openvpn)


The last "released" repo for RHELSA7 is:
http://download-node-02.eng.bos.redhat.com/released/RHEL-7/7.3/Server/aarch64/os/

The latest Beta for RHELA7.4 is:
http://download-node-02.eng.bos.redhat.com/released/RHEL-7/7.4-Beta/Server/aarch64/os/

but the latest 'snapshot' for RHELA-7.4 is:
http://download-node-02.eng.bos.redhat.com/rel-eng/RHEL-7.4-Snapshot-5.0/compose/Server/aarch64/os/

and the latest Pegas Early Access (EA) is:
http://download-node-02.eng.bos.redhat.com/rel-eng/Pegas-7.4-EA-2.2/compose/Server/aarch64/os/

